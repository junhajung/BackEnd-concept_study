- [Network]
  - [Socket, Socket 프로그래밍](#Socket-프로그래밍)
  - [Http 프로그래밍](#Http-프로그래밍)
  - [TCP/IP](#TCP-IP)
  - [HTTP/HTTPS 차이](#HTTP와-HTTPS-차이)  
  - [공개키/개인키](#공개키-개인키)  

    
***     

# Socket 프로그래밍

## Socket
프로그램이 네트워크에서 데이터를 송수신할 수 있도록 네트워크 환경에 연결할 수 있게 만들어진 연결부  
주어진 기본적인 통신 구조는 잘 알려져있어 보안에 취약하다 그래서 **나만의 통신구조를 설계**하는데 그것이 바로 소켓 프로그래밍  

서버와 통신을 할 때 서버의 특정 App에 접근을 하기 위해서는 특정 Port와 연결이 되어야 한다.  
설계하는 소켓프로그래밍은 이 소켓 부분을 설계에서 어떠한 방식으로 통신을 할지 정해주는 것  

해당 Port에 가면 소켓을 거친 뒤에 App에 접근 & 이용을 한다  

## 소켓의 통신방식
<p align="center"> <img src = "https://user-images.githubusercontent.com/48474613/133589336-3a803196-fcd2-4eff-b873-b143091aa1cf.png" width="70%" height="70%"/></p>  
1. Client class 생성  
2. 해당 클래스에 서버의 IP 주소와 Port번호를 넣고 출력 스트림 (Get Outputstream)으로 넘어간 후 Server Socket에 접근  
3. Server Socket class는 클라이언트가 접속을 했는지 체크  
4. 접근 인식시 Server class가 Socket.accpet() 메소드 실행  

++ 하나의 서버에 여러 컴퓨터가 접속시?  
Server Socket하나가 여러개 컴퓨터의 client 접속을 인식  
클라이언트 1개당 1개의 서버 소켓 생성 -> 서버 소켓이 너무 많아지면 과부하 -> 해결하기 위해 Thread가 나옴


## Socket 프로그래밍
> Server와 Client가 특정 Port를 통해 실시간으로 양방향 통신을 하는 방식  

Socket 연결은 TCP/IP 프로토콜을 기반으로 맺어진 네트워크 연결 방식  
**Server와 Client가 특정 Port를 통해 연결을 유지하고 있어 실시간으로 양방향 통신을 할 수 있는 방식**  
Client가 필요한 경우에 요청을 보낼 수 있는 Http 프로그래밍과 달리 **Socket 프로그래밍은 Server 역시 Client로 요청을 보낼 수 있으며** 계속 연결을 유지하는 연결지향형 방식이기 때문에 실시간 통신이 필요한 경우에 자주 사용  

ex) 실시간 Streaming, 채팅..         


***      

# Http 프로그래밍
> Client의 요청이 있을 때만 서버가 응답하여 해당 정보를 전송하고 곧바로 연결을 종료하는 방식  

소켓 연결 위에서 맺어지는 애플리케이션 계층의 연결 방식  
Cient가 요청을 보내는 경우에만 Server가 응답하는 단방향적 통신  
Sever로 Http요청을 통해 필요한 경우에 짧게 연결을 유지함으로써 비용 및 유지보수 등 대부분의 방면에서 많은 장점  
Server로부터 소켓 연결을 하고 응답을 받은 후에는 연결이 바로 종료된다  

***    

# TCP IP
패킷 통신 방식의 인터넷 프로토콜인 IP + 전송 조절 프로토콜인 TCP  
* IP : 패킷 전달 여부를 보증하지 않고 패킷을 보낸 순서와 받는 순서가 다를 수 있다.  
       데이터의 조각들을 최대한 빨리 목적지로 보내는 역할을 하며 조각의 순서가 뒤바뀌거나 일부가 누락되더라도 크게 상관하지 않고 보내는데 집중  
* TCP : IP위에서 동작하는 프로토콜로 데이터의 전달을 보증하고 보낸 순서대로 받게 해준다.  
        IP보다 느리지만 꼼꼼하게 도착한 조각을 점검하여 줄을 세우고 망가졌거나 빠진 조각을 다시 요청     
        

***    

# HTTP와 HTTPS 차이
1. HTTP  
- 서로 다른 시스템들 사이에서 통신을 주고받게 해주는 가장 기초적인 프로토콜  
- 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로토콜  
- TCP/IP위에서 작동  
- Method, Path, Version, Headers, Body 등으로 구성  
- 80 포트 사용  

2. HTTPS  
- SSL(보안 소켓 계층)을 사용함으로써 데이터 도난 문제 해결  
SSL : 서버와 브라우저 사이에 안전하게 암호화된 연결을 만들 수 있게 도와주고 서버 브라우저가 민감한 정보를 주고받을 때 도난당하는 것을 막아줌  
- 443 포트 사용  
- [공개키/개인키 암호화 방식 이용](#공개키-개인키)  

## 차이점 
1. SSL 인증서 차이  
SSL 인증서 : 사용자가 사이트에 제공하는 정보를 암호화 (데이터를 암호로 바꾼다)    
TLS(전송 계층 보안) 프로토콜을 통해서도 보안을 유지 (데이터 무결성을 제공)  

2. SEO 품질 차이  
검색엔진 최적화 (SEO)에 있어서도 혜택을 볼 수 있다.  
또한 가속화된 모바일 페이지(AMP, Accelerated Mobile Pages)를 만들고 싶을 때도 HTTPS 프로토콜을 사용해야만 한다.  
AMP? HTML에서 불필요한 부분을 없앤 것    


***
# 공개키 개인키   
- 공개키 : 개인키로만 복호화 가능 (개인키는 나만 가지고 있으므로 나만 볼 수 있음)  
- 개인키 : 공개키로만 복호화 가능 (모두에게 공개되어 있으므로 내가 인증한 정보임을 알려 신뢰성 보장)  

서버는 클라이언트가 요청을 보낼 때 암호화를 하기 위한 공개키를 설정    
인증된 기관에 공개키를 전송하여 인증서를 발급  
1. 기업은 HTTP 기반의 애플리케이션에 HTTPS를 적용하기 위해 공개키/개인키를 발급  
2. CA 기업에게 돈을 지불하고 공개키를 저장하는 인증서의 발급을 요청  
3. CA 기업은 인증서를 생성하고 CA 기업의 개인키로 암호화하여 기업에게 제공  
4. 기업은 클라이언트에게 암호화된 인증서를 제공  
5. 브라우저는 CA기업의 공개키를 미리 다운받아 갖고 있어 암호화된 인증서를 복호화함  
6. 암호화된 인증서를 복호화하여 얻은 기업의 공개키로 데이터를 암호화하여 요청을 전송  

***

